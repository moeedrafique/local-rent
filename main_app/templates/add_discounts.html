{% extends 'base.htm' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>


<body>
    {% block content %}
    <div class="card">
        <div class="agent-new">
            <div class="card-header">
                <h4>Discount Editing</h4>
                <div class="sub-title"></div>

            </div>
            <div class="card-block">
              <form method="POST">
    {% csrf_token %}
    <div class="row">
        <!-- Discount Name -->
        <div class="col-lg-12">
            <div class="col-lg-3">
                <div class="form-group row">
                    <div class="col-sm-12">
                        <label for="id_name" class="block">Discount Name</label>
                    </div>
                    <div class="col-sm-12">
                        <input id="id_name" name="name" type="text" class="form-control" value="{{ discount_instance.name }}">
                    </div>
                </div>
            </div>
        </div>

        <!-- Valid from and Valid to -->
        <div class="col-lg-12">
            <div class="col-lg-12">
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="id_valid_from">Valid from:</label>
                        <input type="date" class="form-control datepicker" id="id_valid_from" name="valid_from" data-date-format="yyyy-mm-dd" value="{{ discount_instance.valid_from|date:'Y-m-d' }}">
                    </div>
                    <div class="form-group col-md-4"></div>
                    <div class="form-group col-md-3">
                        <label for="id_valid_to">Valid to:</label>
                        <input type="date" class="form-control datepicker" id="id_valid_to" name="valid_to" data-date-format="yyyy-mm-dd" value="{{ discount_instance.valid_to|date:'Y-m-d' }}">
                    </div>
                </div>
            </div>
        </div>

        <!-- Discount Percentage -->
        <div class="col-lg-12">
            <div class="col-lg-4">
                <div class="form-group row">
                    <div class="col-sm-12">
                        <label for="id_discount_percentage" class="block">Discount Percentage</label>
                    </div>
                    <div class="col-sm-8">
                        <input type="number" id="id_discount_percentage" class="form-control" name="discount_percentage" step="0.01" min="0" max="100" value="{{ discount_instance.discount_percentage }}">
                    </div>
                </div>
            </div>
        </div>

        <!-- Cars checkboxes -->
        <div class="col-lg-12">
            <div class="col-lg-12">
                <label class="block">For Cars</label>
                <!-- Iterate over cars and generate checkboxes -->
                {% for car in cars %}
                    <div class="form-row">
                        <div class="form-group col-md-2">
                            <div class="checkbox-color checkbox-primary car-checkbox">
                                <input id="checkbox{{ forloop.counter }}" type="checkbox" name="cars" value="{{ car.id }}" {% if car in discount_instance.cars %} checked {% endif %}>
                                <label for="checkbox{{ forloop.counter }}">
                                    {{ car.brand }} {{ car.model }}
                                </label>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Submit button -->
        <div class="col-lg-12">
            <div class="row">
                <button style="" type="submit" class="btn btn-primary ml-4">Save</button>
            </div>
        </div>
    </div>
</form>

        </div>
    </div>
    </div>
    {% endblock %}
</body>
</html>




